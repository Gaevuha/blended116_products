import{a as u}from"./vendor-4yCzdkXl.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const c of r)if(c.type==="childList")for(const a of c.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function o(r){const c={};return r.integrity&&(c.integrity=r.integrity),r.referrerPolicy&&(c.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?c.credentials="include":r.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function n(r){if(r.ep)return;r.ep=!0;const c=o(r);fetch(r.href,c)}})();let h=[];function O(){localStorage.setItem("cards",JSON.stringify(h))}const _="cart";function p(){return JSON.parse(localStorage.getItem(_))||[]}function L(t){localStorage.setItem(_,JSON.stringify(t))}function q(t){const e=p();e.push(t),L(e)}function v(t){let e=p();e=e.filter(o=>o.id!==t),L(e)}function g(t){return p().some(e=>e.id===t)}function M(){const t=JSON.parse(localStorage.getItem("cart"))||[],e=document.querySelector("[data-cart-count]");e&&(e.textContent=t.length)}async function w(){const t="https://dummyjson.com/products/category-list";try{return(await u.get(t)).data}catch(e){throw console.error("Помилка під час отримання категорій:",e.message),e}}async function N(t){const o=`https://dummyjson.com/products/category/${t}?limit=12&skip=0`;try{return(await u.get(o)).data.products}catch(n){throw console.error("Помилка під час отримання продуктів:",n.message),n}}async function S(){const e="https://dummyjson.com/products?limit=12&skip=0";try{return(await u.get(e)).data.products}catch(o){throw console.error("Помилка під час отримання продуктів:",o.message),o}}async function T(t){const e=await fetch(`https://dummyjson.com/products/${t}`);if(!e.ok)throw new Error("Failed to fetch product");return await e.json()}async function R(t){const e=`https://dummyjson.com/products/search?q=${encodeURIComponent(t)}&limit=12`;try{return(await u.get(e)).data.products}catch(o){throw console.error("Помилка під час пошуку продуктів:",o.message),o}}const s={formEl:document.querySelector(".search-form"),inputEl:document.querySelector(".search-form__input"),clearSearchBtnEl:document.querySelector(".search-form__btn-clear"),searchBtnEl:document.querySelector(".search-form__btn"),categoriesListEl:document.querySelector(".categories"),productsListEl:document.querySelector(".products"),loadMoreBtn:document.querySelector(".btn"),loaderEl:document.querySelector(".loader"),modalEl:document.querySelector(".modal"),modalCloseBtnEl:document.querySelector(".modal__close-btn"),modalContentEl:document.querySelector(".modal__content"),modalOverlayEl:document.querySelector(".modal__overlay"),notFound:document.querySelector(".not-found"),modalProductBtnCart:document.querySelector(".modal-product__btn--cart"),modalProductBtnWishlist:document.querySelector(".modal-product__btn--wishlist"),cartPageProduct:document.querySelector(".product-page .products"),buyBtn:document.querySelector(".cart-summary__btn"),wishlistPageProduct:document.querySelector(".js-wishlist-product")};function b(t){k(t),s.modalEl.classList.add("modal--is-open")}function P(){s.modalEl.classList.remove("modal--is-open");const t=s.modalContentEl.querySelector(".modal-product");t&&(t.innerHTML="")}s.modalEl.addEventListener("click",t=>{(t.target.classList.contains("modal__close-btn")||t.target===s.modalEl)&&P()});document.addEventListener("keydown",t=>{t.key==="Escape"&&P()});function F(){const t=document.querySelector(".not-found");t&&t.classList.add("not-found--visible")}function H(){const t=document.querySelector(".not-found");t&&t.classList.remove("not-found--visible")}function $(){s.loadMoreBtn&&(s.loadMoreBtn.classList.remove("is-hidden"),s.loadMoreBtn.classList.add("is-visible"))}function U(){s.loadMoreBtn&&(s.loadMoreBtn.classList.add("is-hidden"),s.loadMoreBtn.classList.remove("is-visible"))}function x(){const t=document.querySelector(".loader");t&&(t.classList.remove("is-hidden"),t.classList.add("is-visible"))}function B(){const t=document.querySelector(".loader");t&&(t.classList.add("is-hidden"),t.classList.remove("is-visible"))}function J(){document.querySelectorAll(".loader-page").forEach(t=>{t.classList.remove("is-hidden"),t.classList.add("is-visible")})}function D(){document.querySelectorAll(".loader-page").forEach(t=>{t.classList.add("is-hidden"),t.classList.remove("is-visible")})}function A(t){const e=t.target.closest(".products__item");if(!e)return;const o=e.dataset.id,n=h.find(r=>r.id===Number(o));n&&b(n)}const E=document.querySelector(".products");function j(t){return t.map(e=>`<li class="categories__item">
   <button class="categories__btn" type="button" data-category="${e}">${e}</button>
 </li>
`).join("")}function f(t){return t.map(e=>`<li class="products__item" data-id="${e.id}">
                  <img class="products__image" src="${e.thumbnail}" alt="${e.title}"/>
                   <p class="products__title">${e.title}</p>
                    <p class="products__brand"><span class="products__brand--bold">Brand: </span>${e.brand}</p>
                    <p class="products__category">Category: ${e.category}</p>
                    <p class="products__price">Price: ${e.price} $</p>
 </li>
`).join("")}async function K(){s.categoriesListEl.classList.add("hidden"),s.productsListEl.classList.add("hidden"),document.querySelector(".not-found").classList.add("is-hidden");try{const t=await w(),e=await S(),o=j(t),n=f(e),r=document.querySelector(".categories"),c=document.querySelector(".products");r.insertAdjacentHTML("beforeend",o),e.length===0?document.querySelector(".not-found").classList.remove("is-hidden"):(c.insertAdjacentHTML("beforeend",n),s.productsListEl.classList.remove("hidden")),$(),s.categoriesListEl.classList.remove("hidden"),c.addEventListener("click",a=>{const i=a.target.closest(".product-card");if(!i)return;const l=i.dataset.id;l&&b(l)})}catch(t){console.error("Помилка при ініціалізації сторінки:",t.message)}finally{B()}}function Y(){E.innerHTML=""}async function G(t){try{const e=await S(),o=f(e);E.insertAdjacentHTML("beforeend",o)}catch(e){console.error("Error fetching products:",e.message)}}async function k(t){const{id:e,images:o,title:n,description:r,tags:c,shippingInformation:a,returnPolicy:i,price:l}=t,y=s.modalContentEl.querySelector(".modal-product");if(!y){console.warn("Element .modal-product not found");return}y.innerHTML=`
    <img class="modal-product__img" src="${o[0]}" alt="${n}" />
    <div class="modal-product__content">
      <p class="modal-product__title">${n}</p>
      <ul class="modal-product__tags">${c==null?void 0:c.map(m=>`<li>${m}</li>`).join("")}</ul>
      <p class="modal-product__description">${r}</p>
      <p class="modal-product__shipping-information">Shipping: ${a||"Not specified"}</p>
      <p class="modal-product__return-policy">Return Policy: ${i||"Not specified"}</p>
      <p class="modal-product__price">Price: ${l}$</p>
      <button class="modal-product__buy-btn" type="button">Buy</button>
    </div>
  `;const d=s.modalContentEl.querySelector(".modal-product__btn--cart");if(!d)return;const C=g(e);d.textContent=C?"Remove from Cart":"Add to Cart",d.onclick=()=>{if(g(e))v(e),d.textContent="Add to Cart";else{q(t),d.textContent="Remove from Cart";const m=f([t]);document.querySelector(".products").insertAdjacentHTML("beforeend",m)}M()}}function W(){s.productsListEl?s.productsListEl.addEventListener("click",A):console.warn("refs.productsListEl не знайдено")}export{W as a,U as b,Y as c,x as d,B as e,N as f,h as g,D as h,K as i,O as j,f as k,$ as l,R as m,F as n,H as o,S as p,G as q,s as r,J as s,T as t,M as u,b as v,p as w};
//# sourceMappingURL=render-function-h_8FbhVK.js.map
