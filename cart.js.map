{"version":3,"file":"cart.js","sources":["../src/cart.js"],"sourcesContent":["//cart.js\n\n//Логіка сторінки Cart\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { getCart, updateCartCount } from './js/storage.js';\nimport { renderCartProducts } from './js/render-function.js';\nimport {\n    showLoader,\n    hideLoader,\n} from './js/handlers.js';\nimport { refs } from './js/refs.js';\n  import { fetchProductById } from './js/products-api.js';\nimport { openModal } from './js/modal.js';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    renderCartProducts();  \n    updateCartCount();\n});\n\n// Додаємо обробник події для відкриття модального вікна з деталями продукту\nrefs.cartPageProduct.addEventListener('click', async (e) => {\n    const productCard = e.target.closest('.products__item');\n    if (!productCard) return;\n\n    const productId = productCard.dataset.id;\n    if (!productId) return;\n\n    try {\n        showLoader();\n        const product = await fetchProductById(productId);\n        openModal(product); // Показ модального вікна з деталями\n    } catch (error) {\n        iziToast.error({\n            title: 'Error',\n            message: 'Failed to load product details.',\n            position: 'topCenter',\n        });\n        console.error('Error loading product:', error);\n    } finally {\n        hideLoader();\n    }\n});\n\n\nrefs.buyBtn.addEventListener('click', () => {\n  const cartItems = getCart();\n\n  if (cartItems.length === 0) {\n    iziToast.warning({\n      title: 'Cart is empty',\n      message: 'Please add products before buying.',\n      position: 'topCenter',\n    });\n    return;\n  }\n\n  iziToast.success({\n    title: 'Success',\n    message: 'Thank you for your purchase!',\n    position: 'topCenter',\n  });\n\n  // Очистити кошик\n  localStorage.removeItem('cart');\n  renderCartProducts();\n  updateCartCount();\n});\n"],"names":["renderCartProducts","updateCartCount","refs","e","productCard","productId","showLoader","product","fetchProductById","openModal","error","iziToast","hideLoader","getCart"],"mappings":"0JAgBA,SAAS,iBAAiB,mBAAoB,IAAM,CAChDA,IACAC,GACJ,CAAC,EAGDC,EAAK,gBAAgB,iBAAiB,QAAS,MAAOC,GAAM,CACxD,MAAMC,EAAcD,EAAE,OAAO,QAAQ,iBAAiB,EACtD,GAAI,CAACC,EAAa,OAElB,MAAMC,EAAYD,EAAY,QAAQ,GACtC,GAAKC,EAEL,GAAI,CACAC,IACA,MAAMC,EAAU,MAAMC,EAAiBH,CAAS,EAChDI,EAAUF,CAAO,CACpB,OAAQG,EAAO,CACZC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,kCACT,SAAU,WACtB,CAAS,EACD,QAAQ,MAAM,yBAA0BD,CAAK,CACrD,QAAc,CACNE,GACH,CACL,CAAC,EAGDV,EAAK,OAAO,iBAAiB,QAAS,IAAM,CAG1C,GAFkBW,IAEJ,SAAW,EAAG,CAC1BF,EAAS,QAAQ,CACf,MAAO,gBACP,QAAS,qCACT,SAAU,WAChB,CAAK,EACD,MACD,CAEDA,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,+BACT,SAAU,WACd,CAAG,EAGD,aAAa,WAAW,MAAM,EAC9BX,IACAC,GACF,CAAC"}