import{u as s,w as c,n as m,o as g,k as f,r as d,d as y,t as C,v as h,e as L}from"./assets/render-function-h_8FbhVK.js";import{i as n}from"./assets/vendor-4yCzdkXl.js";document.addEventListener("DOMContentLoaded",()=>{i(),s()});function i(){const t=c(),e=document.querySelector(".products");if(e.innerHTML="",t.length===0){m(),a(t);return}g();const o=f(t);e.insertAdjacentHTML("beforeend",o),a(t)}function a(t){const e=document.querySelector("[data-count]"),o=document.querySelector("[data-price]"),r=t.length,u=t.reduce((l,p)=>l+p.price,0);e.textContent=r,o.textContent=`$${u.toFixed(2)}`}d.cartPageProduct.addEventListener("click",async t=>{const e=t.target.closest(".products__item");if(!e)return;const o=e.dataset.id;if(o)try{y();const r=await C(o);h(r)}catch(r){n.error({title:"Error",message:"Failed to load product details.",position:"topCenter"}),console.error("Error loading product:",r)}finally{L()}});d.buyBtn.addEventListener("click",()=>{if(c().length===0){n.warning({title:"Cart is empty",message:"Please add products before buying.",position:"topCenter"});return}n.success({title:"Success",message:"Thank you for your purchase!",position:"topCenter"}),localStorage.removeItem("cart"),i(),s()});
//# sourceMappingURL=cart.js.map
